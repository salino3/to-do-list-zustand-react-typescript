import{o as e,s as t}from"./index-CL-tG4b1.js";const n={nameTodo:``,web:``,tel:``,priority:``,reminderDate:0,place:``,completed:null},r={id:``,nameTodo:``,topic:``,status:``,completed:!1,createdAt:0,completedAt:null,updatedAt:null,place:``,email:``,tel:``,web:``,description:``,note:``,reminderDate:null,priority:{LOW:`low`,MEDIUM:`medium`,HIGH:`high`}.LOW,tags:[]};var i=`TodoMyAppDB`,a=`todoList`;const o={getItem:async e=>new Promise((t,n)=>{let r=indexedDB.open(i,1);r.onupgradeneeded=()=>{r.result.objectStoreNames.contains(a)||r.result.createObjectStore(a)},r.onsuccess=()=>{let i=r.result;if(!i.objectStoreNames.contains(a)){t(null);return}let o=i.transaction(a,`readonly`).objectStore(a).get(e);o.onsuccess=()=>t(o.result||null),o.onerror=()=>n(o.error)},r.onerror=()=>n(r.error)}),setItem:async(e,t)=>new Promise((n,r)=>{let o=indexedDB.open(i,1);o.onupgradeneeded=()=>{o.result.objectStoreNames.contains(a)||o.result.createObjectStore(a)},o.onsuccess=()=>{let i=o.result.transaction(a,`readwrite`);i.objectStore(a).put(t,e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)},o.onerror=()=>r(o.error)}),removeItem:async e=>new Promise(t=>{let n=indexedDB.open(i,1);n.onsuccess=()=>{let r=n.result;if(!r.objectStoreNames.contains(a))return t();let i=r.transaction(a,`readwrite`);i.objectStore(a).delete(e),i.oncomplete=()=>t()}})};var s=e=>{let t,n=new Set,r=(e,r)=>{let i=typeof e==`function`?e(t):e;if(!Object.is(i,t)){let e=t;t=r??(typeof i!=`object`||!i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},c=(e=>e?s(e):s),l=t(e(),1),u=e=>e;function d(e,t=u){let n=l.useSyncExternalStore(e.subscribe,l.useCallback(()=>t(e.getState()),[e,t]),l.useCallback(()=>t(e.getInitialState()),[e,t]));return l.useDebugValue(n),n}var ee=e=>{let t=c(e),n=e=>d(t,e);return Object.assign(n,t),n},f=(e=>e?ee(e):ee),p=e=>Symbol.iterator in e,m=e=>`entries`in e,te=(e,t)=>{let n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(let[e,t]of n)if(!r.has(e)||!Object.is(t,r.get(e)))return!1;return!0},ne=(e,t)=>{let n=e[Symbol.iterator](),r=t[Symbol.iterator](),i=n.next(),a=r.next();for(;!i.done&&!a.done;){if(!Object.is(i.value,a.value))return!1;i=n.next(),a=r.next()}return!!i.done&&!!a.done};function re(e,t){return Object.is(e,t)?!0:typeof e!=`object`||!e||typeof t!=`object`||!t||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:p(e)&&p(t)?m(e)&&m(t)?te(e,t):ne(e,t):te({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function ie(e){let t=l.useRef(void 0);return n=>{let r=e(n);return re(t.current,r)?t.current:t.current=r}}var ae=Symbol.for(`immer-nothing`),oe=Symbol.for(`immer-draftable`),h=Symbol.for(`immer-state`);function g(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _=Object,v=_.getPrototypeOf,y=`constructor`,b=`prototype`,se=`configurable`,x=`enumerable`,S=`writable`,C=`value`,w=e=>!!e&&!!e[h];function T(e){return e?ue(e)||A(e)||!!e[oe]||!!e[y]?.[oe]||j(e)||M(e):!1}var ce=_[b][y].toString(),le=new WeakMap;function ue(e){if(!e||!N(e))return!1;let t=v(e);if(t===null||t===_[b])return!0;let n=_.hasOwnProperty.call(t,y)&&t[y];if(n===Object)return!0;if(!P(n))return!1;let r=le.get(n);return r===void 0&&(r=Function.toString.call(n),le.set(n,r)),r===ce}function E(e,t,n=!0){D(e)===0?(n?Reflect.ownKeys(e):_.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function D(e){let t=e[h];return t?t.type_:A(e)?1:j(e)?2:M(e)?3:0}var de=(e,t,n=D(e))=>n===2?e.has(t):_[b].hasOwnProperty.call(e,t),O=(e,t,n=D(e))=>n===2?e.get(t):e[t],k=(e,t,n,r=D(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function fe(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}var A=Array.isArray,j=e=>e instanceof Map,M=e=>e instanceof Set,N=e=>typeof e==`object`,P=e=>typeof e==`function`,F=e=>typeof e==`boolean`;function pe(e){let t=+e;return Number.isInteger(t)&&String(t)===e}var I=e=>e.copy_||e.base_,L=e=>e.modified_?e.copy_:e.base_;function R(e,t){if(j(e))return new Map(e);if(M(e))return new Set(e);if(A(e))return Array[b].slice.call(e);let n=ue(e);if(t===!0||t===`class_only`&&!n){let t=_.getOwnPropertyDescriptors(e);delete t[h];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let i=n[r],a=t[i];a[S]===!1&&(a[S]=!0,a[se]=!0),(a.get||a.set)&&(t[i]={[se]:!0,[S]:!0,[x]:a[x],[C]:e[i]})}return _.create(v(e),t)}else{let t=v(e);if(t!==null&&n)return{...e};let r=_.create(t);return _.assign(r,e)}}function z(e,t=!1){return V(e)||w(e)||!T(e)?e:(D(e)>1&&_.defineProperties(e,{set:B,add:B,clear:B,delete:B}),_.freeze(e),t&&E(e,(e,t)=>{z(t,!0)},!1),e)}function me(){g(2)}var B={[C]:me};function V(e){return e===null||!N(e)?!0:_.isFrozen(e)}var H=`MapSet`,U=`Patches`,he=`ArrayMethods`,ge={};function W(e){let t=ge[e];return t||g(0,e),t}var _e=e=>!!ge[e],G,ve=()=>G,ye=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_e(H)?W(H):void 0,arrayMethodsPlugin_:_e(he)?W(he):void 0});function be(e,t){t&&(e.patchPlugin_=W(U),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function K(e){q(e),e.drafts_.forEach(Se),e.drafts_=null}function q(e){e===G&&(G=e.parent_)}var xe=e=>G=ye(G,e);function Se(e){let t=e[h];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ce(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];if(e!==void 0&&e!==n){n[h].modified_&&(K(t),g(4)),T(e)&&(e=we(t,e));let{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[h].base_,e,t)}else e=we(t,n);return Te(t,e,!0),K(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e===ae?void 0:e}function we(e,t){if(V(t))return t;let n=t[h];if(!n)return Y(t,e.handledSet_,e);if(!J(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){let{callbacks_:t}=n;if(t)for(;t.length>0;)t.pop()(e);Ae(n,e)}return n.copy_}function Te(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&z(t,n)}function Ee(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var J=(e,t)=>e.scope_===t,De=[];function Oe(e,t,n,r){let i=I(e),a=e.type_;if(r!==void 0&&O(i,r,a)===t){k(i,r,n,a);return}if(!e.draftLocations_){let t=e.draftLocations_=new Map;E(i,(e,n)=>{if(w(n)){let r=t.get(n)||[];r.push(e),t.set(n,r)}})}let o=e.draftLocations_.get(t)??De;for(let e of o)k(i,e,n,a)}function ke(e,t,n){e.callbacks_.push(function(r){let i=t;if(!i||!J(i,r))return;r.mapSetPlugin_?.fixSetContents(i);let a=L(i);Oe(e,i.draft_??i,a,n),Ae(i,r)})}function Ae(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){let{patchPlugin_:n}=t;if(n){let r=n.getPath(e);r&&n.generatePatches_(e,r,t)}Ee(e)}}function je(e,t,n){let{scope_:r}=e;if(w(n)){let i=n[h];J(i,r)&&i.callbacks_.push(function(){Q(e),Oe(e,n,L(i),t)})}else T(n)&&e.callbacks_.push(function(){let i=I(e);e.type_===3?i.has(n)&&Y(n,r.handledSet_,r):O(i,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Y(O(e.copy_,t,e.type_),r.handledSet_,r)})}function Y(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||w(e)||t.has(e)||!T(e)||V(e)?e:(t.add(e),E(e,(r,i)=>{if(w(i)){let t=i[h];J(t,n)&&(k(e,r,L(t),e.type_),Ee(t))}else T(i)&&Y(i,t,n)}),e)}function Me(e,t){let n=A(e),r={type_:n?1:0,scope_:t?t.scope_:ve(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},i=r,a=X;n&&(i=[r],a=Z);let{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var X={get(e,t){if(t===h)return e;let n=e.scope_.arrayMethodsPlugin_,r=e.type_===1&&typeof t==`string`;if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);let i=I(e);if(!de(i,t,e.type_))return Pe(e,i,t);let a=i[t];if(e.finalized_||!T(a)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&pe(t))return a;if(a===Ne(e.base_,t)){Q(e);let n=e.type_===1?+t:t,r=$(e.scope_,a,e,n);return e.copy_[n]=r}return a},has(e,t){return t in I(e)},ownKeys(e){return Reflect.ownKeys(I(e))},set(e,t,n){let r=Fe(I(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){let r=Ne(I(e),t),i=r?.[h];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(fe(n,r)&&(n!==void 0||de(e.base_,t,e.type_)))return!0;Q(e),Ie(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])?!0:(e.copy_[t]=n,e.assigned_.set(t,!0),je(e,t,n),!0)},deleteProperty(e,t){return Q(e),Ne(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ie(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let n=I(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[S]:!0,[se]:e.type_!==1||t!==`length`,[x]:r[x],[C]:n[t]}},defineProperty(){g(11)},getPrototypeOf(e){return v(e.base_)},setPrototypeOf(){g(12)}},Z={};for(let e in X){let t=X[e];Z[e]=function(){let e=arguments;return e[0]=e[0][0],t.apply(this,e)}}Z.deleteProperty=function(e,t){return Z.set.call(this,e,t,void 0)},Z.set=function(e,t,n){return X.set.call(this,e[0],t,n,e[0])};function Ne(e,t){let n=e[h];return(n?I(n):e)[t]}function Pe(e,t,n){let r=Fe(t,n);return r?C in r?r[C]:r.get?.call(e.draft_):void 0}function Fe(e,t){if(!(t in e))return;let n=v(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=v(n)}}function Ie(e){e.modified_||(e.modified_=!0,e.parent_&&Ie(e.parent_))}function Q(e){e.copy_||=(e.assigned_=new Map,R(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Le=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(P(e)&&!P(t)){let n=t;t=e;let r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}P(t)||g(6),n!==void 0&&!P(n)&&g(7);let r;if(T(e)){let i=xe(this),a=$(i,e,void 0),o=!0;try{r=t(a),o=!1}finally{o?K(i):q(i)}return be(i,n),Ce(r,i)}else if(!e||!N(e)){if(r=t(e),r===void 0&&(r=e),r===ae&&(r=void 0),this.autoFreeze_&&z(r,!0),n){let t=[],i=[];W(U).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:i}),n(t,i)}return r}else g(1,e)},this.produceWithPatches=(e,t)=>{if(P(e))return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},F(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),F(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),F(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){T(e)||g(8),w(e)&&(e=Re(e));let t=xe(this),n=$(t,e,void 0);return n[h].isManual_=!0,q(t),n}finishDraft(e,t){let n=e&&e[h];(!n||!n.isManual_)&&g(9);let{scope_:r}=n;return be(r,t),Ce(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(r.path.length===0&&r.op===`replace`){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=W(U).applyPatches_;return w(e)?r(e,t):this.produce(e,e=>r(e,t))}};function $(e,t,n,r){let[i,a]=j(t)?W(H).proxyMap_(t,n):M(t)?W(H).proxySet_(t,n):Me(t,n);return(n?.scope_??ve()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?ke(n,a,r):a.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(a);let{patchPlugin_:t}=e;a.modified_&&t&&t.generatePatches_(a,[],e)}),i}function Re(e){return w(e)||g(10,e),ze(e)}function ze(e){if(!T(e)||V(e))return e;let t=e[h],n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=R(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=R(e,!0);return E(n,(e,t)=>{k(n,e,ze(t))},r),t&&(t.finalized_=!1),n}var Be=new Le().produce,Ve=e=>(t,n,r)=>(r.setState=(e,n,...r)=>t(typeof e==`function`?Be(e):e,n,...r),e(r.setState,n,r));function He(e,t){let n;try{n=e()}catch{return}return{getItem:e=>{let r=e=>e===null?null:JSON.parse(e,t?.reviver),i=n.getItem(e)??null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,t?.replacer)),removeItem:e=>n.removeItem(e)}}var Ue=e=>t=>{try{let n=e(t);return n instanceof Promise?n:{then(e){return Ue(e)(n)},catch(e){return this}}}catch(e){return{then(e){return this},catch(t){return Ue(t)(e)}}}};const We=f()(((e,t)=>(n,r,i)=>{let a={storage:He(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,s=0,c=new Set,l=new Set,u=a.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)},r,i);let d=()=>{let e=a.partialize({...r()});return u.setItem(a.name,{state:e,version:a.version})},ee=i.setState;i.setState=(e,t)=>(ee(e,t),d());let f=e((...e)=>(n(...e),d()),r,i);i.getInitialState=()=>f;let p,m=()=>{if(!u)return;let e=++s;o=!1,c.forEach(e=>e(r()??f));let t=a.onRehydrateStorage?.call(a,r()??f)||void 0;return Ue(u.getItem.bind(u))(a.name).then(e=>{if(e)if(typeof e.version==`number`&&e.version!==a.version){if(a.migrate){let t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error(`State loaded from storage couldn't be migrated since no migrate function was provided`)}else return[!1,e.state];return[!1,void 0]}).then(t=>{if(e!==s)return;let[i,o]=t;if(p=a.merge(o,r()??f),n(p,!0),i)return d()}).then(()=>{e===s&&(t?.(p,void 0),p=r(),o=!0,l.forEach(e=>e(p)))}).catch(n=>{e===s&&t?.(void 0,n)})};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(u=e.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||m(),p||f})(Ve(e=>({todoList:[],addTodo:t=>e(e=>{e.todoList.push(t)}),setTodo:t=>e(({todoList:e})=>{let n=e.find(e=>e.id===t.id);n&&(n.completed=!n.completed)})})),{name:`to-do-storage`,storage:He(()=>o),partialize:e=>({todoList:e.todoList})}));function Ge(...e){if(e.length===0)return We(ie(e=>e));let t={};return e.forEach(e=>{t[e]=We(ie(t=>t[e]))}),t}export{n,r,Ge as t};