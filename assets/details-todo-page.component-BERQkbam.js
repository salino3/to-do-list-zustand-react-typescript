import{a as e,c as t,i as n,n as r,r as i,s as a,t as o}from"./index-5_y7PSS0.js";import{a as s,i as c,n as l,r as u,t as d}from"./store-CFAyaMOD.js";var f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));function p(e,t=0){return(f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+`-`+f[e[t+4]]+f[e[t+5]]+`-`+f[e[t+6]]+f[e[t+7]]+`-`+f[e[t+8]]+f[e[t+9]]+`-`+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]).toLowerCase()}var m,h=new Uint8Array(16);function g(){if(!m){if(typeof crypto>`u`||!crypto.getRandomValues)throw Error(`crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported`);m=crypto.getRandomValues.bind(crypto)}return m(h)}var _={randomUUID:typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function v(e,t,n){e||={};let r=e.random??e.rng?.()??g();if(r.length<16)throw Error(`Random bytes length must be >= 16`);if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n||=0,n<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return p(r)}function y(e,t,n){return _.randomUUID&&!t&&!e?_.randomUUID():v(e,t,n)}var b=y;const x=()=>({fnPromise:e=>new Promise(t=>{t(e)})});var S=a(),C=r();const w=e=>{let{value:t,handleChange:n,id:r,name:i,type:a,pl:o,lbl:s,click:c,selectList:l,ariaRq:u,readonly:d,ariaLabeInput:f,error:p}=e,m=`${i}-error-msg`;return(0,C.jsxs)(`div`,{className:`boxInput boxInput${i}`,children:[(0,C.jsx)(`label`,{htmlFor:(r||i)+`ID`,children:s}),a?(0,C.jsx)(`input`,{type:a,id:(r||i)+`ID`,name:i,value:t??``,onChange:n,placeholder:o||i,readOnly:d,"aria-required":u,"aria-invalid":!!p,"aria-describedby":p?m:void 0}):(0,C.jsxs)(`select`,{id:i+`ID`,name:i,value:t??``,onClick:c,onChange:n,"aria-label":f,"aria-required":u,style:{color:t===``||!t?`gray`:`black`},"aria-invalid":!!p,"aria-describedby":p?m:void 0,children:[(0,C.jsx)(`option`,{value:``,disabled:!0,hidden:!0,children:o}),l&&l?.length>0&&l.map(e=>(0,C.jsx)(`optgroup`,{label:e.optgroup,children:e.content.map(e=>(0,C.jsx)(`option`,{value:e.key,children:e.text},e.key))},e.optgroup))]}),(0,C.jsx)(`div`,{className:`boxErrorMessage`,children:p&&(0,C.jsx)(`span`,{id:m,role:`alert`,children:p})})]})},T=e=>{let{text:t,customStyles:n,type:r}=e;return(0,C.jsx)(`button`,{type:r,className:`btnStyles ${n}`,children:t})},E=[{name:`nameTodo`,selectList:[],ariaRq:!1,pl:`Name To do`,lbl:`Name To do`,type:`text`,ariaLabeInput:`Text the name task`},{name:`web`,selectList:[],ariaRq:!1,pl:`Web`,lbl:`Web`,type:`text`,ariaLabeInput:`Text the web relationated with the task`},{name:`tel`,selectList:[],ariaRq:!1,pl:`Telephone`,lbl:`Telephone`,type:`tel`,ariaLabeInput:`Text the telephone relationated with the task`},{name:`email`,selectList:[],ariaRq:!1,pl:`Email`,lbl:`Email`,type:`email`,ariaLabeInput:`Text the email relationated with the task`},{name:`topic`,selectList:[],ariaRq:!1,pl:`Topic`,lbl:`Topic`,type:`text`,ariaLabeInput:`Select a topic for this task`},{name:`place`,selectList:[],ariaRq:!1,pl:`Place`,lbl:`Place`,type:`text`,ariaLabeInput:`What's the place for this task`},{name:`reminderDate`,selectList:[],ariaRq:!0,pl:`Reminder Date`,lbl:`Reminder Date`,type:`datetime-local`,ariaLabeInput:`Select a reminder date for this task`},{name:`priority`,lbl:`Priority`,click:e=>e.stopPropagation(),pl:`Priority`,selectList:[{optgroup:`Priority`,content:Object.values(l).map(e=>({key:e,text:e===``?`...`:e.charAt(0).toUpperCase()+e.slice(1)}))}],ariaRq:!0,type:``,ariaLabeInput:`Choose the to do priority`}],D=(0,S.memo)(()=>{let{id:t=``}=e(),r=n(),{todoList:i,addTodo:a,updateDataTodo:s}=d(`todoList`,`addTodo`,`updateDataTodo`),{fnPromise:l}=x(),[f,p]=(0,S.useState)(c),m=e=>t=>{p(n=>({...n,[e]:t?.target.value}))};function h(e){e?.preventDefault(),t?l(s&&s(f)).then(()=>r(o.root)):l(a&&a({...f,id:b()})).then(()=>r(o.root))}return(0,S.useEffect)(()=>{t&&p(i?.find(e=>e.id===t)??u)},[t]),(0,C.jsxs)(`form`,{onSubmit:h,id:`formDetailsTodoPage`,children:[(0,C.jsx)(`div`,{className:`containerInputs`,children:E&&E.length>0&&E.map(e=>(0,C.jsx)(w,{name:e.name,id:e.name,value:f[e.name]??``,lbl:e.lbl,handleChange:m(e.name),click:e.click,pl:e.pl,selectList:e.selectList,ariaRq:e.ariaRq,type:e.type,ariaLabeInput:e.ariaLabeInput}))}),(0,C.jsx)(`div`,{className:`boxButtons`,children:(0,C.jsx)(T,{text:`Submit`,type:`submit`})})]})}),O=()=>{let{id:t=``}=e(),[n,r]=(0,S.useState)(!1),a=(0,S.useRef)(null);return(0,C.jsxs)(`div`,{className:`rootDetailsTodoPage`,children:[(0,C.jsxs)(`header`,{children:[(0,C.jsx)(i,{to:o.root,children:`⬅️`}),(0,C.jsxs)(`h1`,{children:[t?`Update`:`Create`,` To do`]})]}),n&&(0,C.jsx)(s,{open:n,onOpenChange:e=>{r(e),e||setTimeout(()=>{a.current?.focus()},0)}}),(0,C.jsx)(D,{})]})};export{O as DetailsTodoPage};