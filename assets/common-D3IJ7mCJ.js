import{c as e,n as t,s as n}from"./index-PY4_wAm-.js";const r={nameTodo:``,web:``,tel:``,priority:`low`,startReminderDate:null,endReminderDate:null,place:``,completed:!0,tags:[]},i={LOW:`low`,MEDIUM:`medium`,HIGH:`high`},a={id:``,nameTodo:``,topic:``,status:``,completed:!1,createdAt:0,completedAt:null,updatedAt:null,place:``,email:``,tel:``,web:``,description:``,note:``,reminderDate:null,priority:i.LOW,tags:[],calendar:!1};var o=`TodoMyAppDB`,s=`todoList`;const c={getItem:async e=>new Promise((t,n)=>{let r=indexedDB.open(o,1);r.onupgradeneeded=()=>{r.result.objectStoreNames.contains(s)||r.result.createObjectStore(s)},r.onsuccess=()=>{let i=r.result;if(!i.objectStoreNames.contains(s)){t(null);return}let a=i.transaction(s,`readonly`).objectStore(s).get(e);a.onsuccess=()=>t(a.result||null),a.onerror=()=>n(a.error)},r.onerror=()=>n(r.error)}),setItem:async(e,t)=>new Promise((n,r)=>{let i=indexedDB.open(o,1);i.onupgradeneeded=()=>{i.result.objectStoreNames.contains(s)||i.result.createObjectStore(s)},i.onsuccess=()=>{let a=i.result.transaction(s,`readwrite`);a.objectStore(s).put(t,e),a.oncomplete=()=>n(),a.onerror=()=>r(a.error)},i.onerror=()=>r(i.error)}),removeItem:async e=>new Promise(t=>{let n=indexedDB.open(o,1);n.onsuccess=()=>{let r=n.result;if(!r.objectStoreNames.contains(s))return t();let i=r.transaction(s,`readwrite`);i.objectStore(s).delete(e),i.oncomplete=()=>t()}})};var l=e=>{let t,n=new Set,r=(e,r)=>{let i=typeof e==`function`?e(t):e;if(!Object.is(i,t)){let e=t;t=r??(typeof i!=`object`||!i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},u=(e=>e?l(e):l),d=e(n(),1),f=e=>e;function p(e,t=f){let n=d.useSyncExternalStore(e.subscribe,d.useCallback(()=>t(e.getState()),[e,t]),d.useCallback(()=>t(e.getInitialState()),[e,t]));return d.useDebugValue(n),n}var m=e=>{let t=u(e),n=e=>p(t,e);return Object.assign(n,t),n},h=(e=>e?m(e):m),ee=e=>Symbol.iterator in e,te=e=>`entries`in e,ne=(e,t)=>{let n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(let[e,t]of n)if(!r.has(e)||!Object.is(t,r.get(e)))return!1;return!0},re=(e,t)=>{let n=e[Symbol.iterator](),r=t[Symbol.iterator](),i=n.next(),a=r.next();for(;!i.done&&!a.done;){if(!Object.is(i.value,a.value))return!1;i=n.next(),a=r.next()}return!!i.done&&!!a.done};function ie(e,t){return Object.is(e,t)?!0:typeof e!=`object`||!e||typeof t!=`object`||!t||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:ee(e)&&ee(t)?te(e)&&te(t)?ne(e,t):re(e,t):ne({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function ae(e){let t=d.useRef(void 0);return n=>{let r=e(n);return ie(t.current,r)?t.current:t.current=r}}var oe=Symbol.for(`immer-nothing`),se=Symbol.for(`immer-draftable`),g=Symbol.for(`immer-state`);function _(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var v=Object,y=v.getPrototypeOf,b=`constructor`,x=`prototype`,S=`configurable`,C=`enumerable`,w=`writable`,T=`value`,E=e=>!!e&&!!e[g];function D(e){return e?ue(e)||M(e)||!!e[se]||!!e[b]?.[se]||N(e)||P(e):!1}var ce=v[x][b].toString(),le=new WeakMap;function ue(e){if(!e||!F(e))return!1;let t=y(e);if(t===null||t===v[x])return!0;let n=v.hasOwnProperty.call(t,b)&&t[b];if(n===Object)return!0;if(!I(n))return!1;let r=le.get(n);return r===void 0&&(r=Function.toString.call(n),le.set(n,r)),r===ce}function O(e,t,n=!0){k(e)===0?(n?Reflect.ownKeys(e):v.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function k(e){let t=e[g];return t?t.type_:M(e)?1:N(e)?2:P(e)?3:0}var de=(e,t,n=k(e))=>n===2?e.has(t):v[x].hasOwnProperty.call(e,t),A=(e,t,n=k(e))=>n===2?e.get(t):e[t],j=(e,t,n,r=k(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function fe(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}var M=Array.isArray,N=e=>e instanceof Map,P=e=>e instanceof Set,F=e=>typeof e==`object`,I=e=>typeof e==`function`,L=e=>typeof e==`boolean`;function pe(e){let t=+e;return Number.isInteger(t)&&String(t)===e}var R=e=>e.copy_||e.base_,z=e=>e.modified_?e.copy_:e.base_;function B(e,t){if(N(e))return new Map(e);if(P(e))return new Set(e);if(M(e))return Array[x].slice.call(e);let n=ue(e);if(t===!0||t===`class_only`&&!n){let t=v.getOwnPropertyDescriptors(e);delete t[g];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let i=n[r],a=t[i];a[w]===!1&&(a[w]=!0,a[S]=!0),(a.get||a.set)&&(t[i]={[S]:!0,[w]:!0,[C]:a[C],[T]:e[i]})}return v.create(y(e),t)}else{let t=y(e);if(t!==null&&n)return{...e};let r=v.create(t);return v.assign(r,e)}}function V(e,t=!1){return U(e)||E(e)||!D(e)?e:(k(e)>1&&v.defineProperties(e,{set:H,add:H,clear:H,delete:H}),v.freeze(e),t&&O(e,(e,t)=>{V(t,!0)},!1),e)}function me(){_(2)}var H={[T]:me};function U(e){return e===null||!F(e)?!0:v.isFrozen(e)}var W=`MapSet`,G=`Patches`,he=`ArrayMethods`,ge={};function K(e){let t=ge[e];return t||_(0,e),t}var _e=e=>!!ge[e],q,ve=()=>q,ye=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_e(W)?K(W):void 0,arrayMethodsPlugin_:_e(he)?K(he):void 0});function be(e,t){t&&(e.patchPlugin_=K(G),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xe(e){Se(e),e.drafts_.forEach(we),e.drafts_=null}function Se(e){e===q&&(q=e.parent_)}var Ce=e=>q=ye(q,e);function we(e){let t=e[g];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Te(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];if(e!==void 0&&e!==n){n[g].modified_&&(xe(t),_(4)),D(e)&&(e=Ee(t,e));let{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[g].base_,e,t)}else e=Ee(t,n);return De(t,e,!0),xe(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e===oe?void 0:e}function Ee(e,t){if(U(t))return t;let n=t[g];if(!n)return Y(t,e.handledSet_,e);if(!J(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){let{callbacks_:t}=n;if(t)for(;t.length>0;)t.pop()(e);Me(n,e)}return n.copy_}function De(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V(t,n)}function Oe(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var J=(e,t)=>e.scope_===t,ke=[];function Ae(e,t,n,r){let i=R(e),a=e.type_;if(r!==void 0&&A(i,r,a)===t){j(i,r,n,a);return}if(!e.draftLocations_){let t=e.draftLocations_=new Map;O(i,(e,n)=>{if(E(n)){let r=t.get(n)||[];r.push(e),t.set(n,r)}})}let o=e.draftLocations_.get(t)??ke;for(let e of o)j(i,e,n,a)}function je(e,t,n){e.callbacks_.push(function(r){let i=t;if(!i||!J(i,r))return;r.mapSetPlugin_?.fixSetContents(i);let a=z(i);Ae(e,i.draft_??i,a,n),Me(i,r)})}function Me(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){let{patchPlugin_:n}=t;if(n){let r=n.getPath(e);r&&n.generatePatches_(e,r,t)}Oe(e)}}function Ne(e,t,n){let{scope_:r}=e;if(E(n)){let i=n[g];J(i,r)&&i.callbacks_.push(function(){Q(e),Ae(e,n,z(i),t)})}else D(n)&&e.callbacks_.push(function(){let i=R(e);e.type_===3?i.has(n)&&Y(n,r.handledSet_,r):A(i,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Y(A(e.copy_,t,e.type_),r.handledSet_,r)})}function Y(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||E(e)||t.has(e)||!D(e)||U(e)?e:(t.add(e),O(e,(r,i)=>{if(E(i)){let t=i[g];J(t,n)&&(j(e,r,z(t),e.type_),Oe(t))}else D(i)&&Y(i,t,n)}),e)}function Pe(e,t){let n=M(e),r={type_:n?1:0,scope_:t?t.scope_:ve(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},i=r,a=X;n&&(i=[r],a=Z);let{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var X={get(e,t){if(t===g)return e;let n=e.scope_.arrayMethodsPlugin_,r=e.type_===1&&typeof t==`string`;if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);let i=R(e);if(!de(i,t,e.type_))return Ie(e,i,t);let a=i[t];if(e.finalized_||!D(a)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&pe(t))return a;if(a===Fe(e.base_,t)){Q(e);let n=e.type_===1?+t:t,r=Be(e.scope_,a,e,n);return e.copy_[n]=r}return a},has(e,t){return t in R(e)},ownKeys(e){return Reflect.ownKeys(R(e))},set(e,t,n){let r=Le(R(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){let r=Fe(R(e),t),i=r?.[g];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(fe(n,r)&&(n!==void 0||de(e.base_,t,e.type_)))return!0;Q(e),Re(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])?!0:(e.copy_[t]=n,e.assigned_.set(t,!0),Ne(e,t,n),!0)},deleteProperty(e,t){return Q(e),Fe(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Re(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let n=R(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[w]:!0,[S]:e.type_!==1||t!==`length`,[C]:r[C],[T]:n[t]}},defineProperty(){_(11)},getPrototypeOf(e){return y(e.base_)},setPrototypeOf(){_(12)}},Z={};for(let e in X){let t=X[e];Z[e]=function(){let e=arguments;return e[0]=e[0][0],t.apply(this,e)}}Z.deleteProperty=function(e,t){return Z.set.call(this,e,t,void 0)},Z.set=function(e,t,n){return X.set.call(this,e[0],t,n,e[0])};function Fe(e,t){let n=e[g];return(n?R(n):e)[t]}function Ie(e,t,n){let r=Le(t,n);return r?T in r?r[T]:r.get?.call(e.draft_):void 0}function Le(e,t){if(!(t in e))return;let n=y(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=y(n)}}function Re(e){e.modified_||(e.modified_=!0,e.parent_&&Re(e.parent_))}function Q(e){e.copy_||=(e.assigned_=new Map,B(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ze=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(I(e)&&!I(t)){let n=t;t=e;let r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}I(t)||_(6),n!==void 0&&!I(n)&&_(7);let r;if(D(e)){let i=Ce(this),a=Be(i,e,void 0),o=!0;try{r=t(a),o=!1}finally{o?xe(i):Se(i)}return be(i,n),Te(r,i)}else if(!e||!F(e)){if(r=t(e),r===void 0&&(r=e),r===oe&&(r=void 0),this.autoFreeze_&&V(r,!0),n){let t=[],i=[];K(G).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:i}),n(t,i)}return r}else _(1,e)},this.produceWithPatches=(e,t)=>{if(I(e))return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},L(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),L(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),L(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){D(e)||_(8),E(e)&&(e=Ve(e));let t=Ce(this),n=Be(t,e,void 0);return n[g].isManual_=!0,Se(t),n}finishDraft(e,t){let n=e&&e[g];(!n||!n.isManual_)&&_(9);let{scope_:r}=n;return be(r,t),Te(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(r.path.length===0&&r.op===`replace`){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=K(G).applyPatches_;return E(e)?r(e,t):this.produce(e,e=>r(e,t))}};function Be(e,t,n,r){let[i,a]=N(t)?K(W).proxyMap_(t,n):P(t)?K(W).proxySet_(t,n):Pe(t,n);return(n?.scope_??ve()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?je(n,a,r):a.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(a);let{patchPlugin_:t}=e;a.modified_&&t&&t.generatePatches_(a,[],e)}),i}function Ve(e){return E(e)||_(10,e),He(e)}function He(e){if(!D(e)||U(e))return e;let t=e[g],n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=B(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=B(e,!0);return O(n,(e,t)=>{j(n,e,He(t))},r),t&&(t.finalized_=!1),n}var Ue=new ze().produce,We=e=>(t,n,r)=>(r.setState=(e,n,...r)=>t(typeof e==`function`?Ue(e):e,n,...r),e(r.setState,n,r));function Ge(e,t){let n;try{n=e()}catch{return}return{getItem:e=>{let r=e=>e===null?null:JSON.parse(e,t?.reviver),i=n.getItem(e)??null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,t?.replacer)),removeItem:e=>n.removeItem(e)}}var Ke=e=>t=>{try{let n=e(t);return n instanceof Promise?n:{then(e){return Ke(e)(n)},catch(e){return this}}}catch(e){return{then(e){return this},catch(t){return Ke(t)(e)}}}},qe=(e,t)=>(n,r,i)=>{let a={storage:Ge(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,s=0,c=new Set,l=new Set,u=a.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)},r,i);let d=()=>{let e=a.partialize({...r()});return u.setItem(a.name,{state:e,version:a.version})},f=i.setState;i.setState=(e,t)=>(f(e,t),d());let p=e((...e)=>(n(...e),d()),r,i);i.getInitialState=()=>p;let m,h=()=>{if(!u)return;let e=++s;o=!1,c.forEach(e=>e(r()??p));let t=a.onRehydrateStorage?.call(a,r()??p)||void 0;return Ke(u.getItem.bind(u))(a.name).then(e=>{if(e)if(typeof e.version==`number`&&e.version!==a.version){if(a.migrate){let t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error(`State loaded from storage couldn't be migrated since no migrate function was provided`)}else return[!1,e.state];return[!1,void 0]}).then(t=>{if(e!==s)return;let[i,o]=t;if(m=a.merge(o,r()??p),n(m,!0),i)return d()}).then(()=>{e===s&&(t?.(m,void 0),m=r(),o=!0,l.forEach(e=>e(m)))}).catch(n=>{e===s&&t?.(void 0,n)})};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(u=e.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||h(),m||p};const Je=()=>({fnPromise:e=>new Promise(t=>{t(e)}),dateConverter:e=>e&&new Date(e??0).toISOString().slice(0,16),generateGoogleCalendarUrl:e=>{let t=e=>new Date(e).toISOString().replace(/-|:|\.\d\d\d/g,``),n=t(e.reminderDate??0),r=t(Number(e.reminderDate??0)+30*6e4),i=[e.description?`Description: ${e.description}`:``,e.note?`Notes: ${e.note}`:``,e.topic?`Topic: ${e.topic}`:``,e.web?`Link: ${e.web}`:``,e.email?`Email: ${e.email}`:``,e.tel?`Tel: ${e.tel}`:``,`Priority: ${e.priority.toUpperCase()}`].filter(Boolean).join(`

`);return`https://www.google.com/calendar/render?action=TEMPLATE&${new URLSearchParams({text:`[${e.priority.toUpperCase()}] ${e.nameTodo}`,dates:`${n}/${r}`,details:i,location:e.place||``,sprop:`name:MyTodoApp`,sf:`true`,output:`xml`}).toString()}`}});var{fnPromise:Ye,generateGoogleCalendarUrl:Xe}=Je();const Ze=h()(qe(We(e=>({todoList:[],addTodo:async t=>{let{calendar:n,...r}=t;return await Ye(e(e=>{e.todoList.push(r)})).then(()=>n&&window.open(Xe(t),`_blank`))},setTodo:t=>e(({todoList:e})=>{let n=e.find(e=>e.id===t.id);n&&(n.completed=!n.completed)}),updateDataTodo:t=>e(e=>({todoList:e.todoList.map(e=>e.id===t.id?t:e)})),deleteTodo:t=>e(({todoList:e})=>({todoList:e.filter(e=>e.id!==t)}))})),{name:`to-do-storage`,storage:Ge(()=>c),partialize:e=>({todoList:e.todoList})}));function Qe(...e){if(e.length===0)return Ze(ae(e=>e));let t={};return e.forEach(e=>{t[e]=Ze(ae(t=>t[e]))}),t}var $=t();const $e=e=>{let{value:t,handleChange:n,id:r,name:i,type:a,checked:o,pl:s,lbl:c,click:l,selectList:u,ariaRq:d,readonly:f,ariaLabeInput:p,error:m}=e,h=`${i}-error-msg`;return(0,$.jsxs)(`div`,{className:`boxInput boxInput${i}`,children:[(0,$.jsx)(`label`,{htmlFor:r||i,children:c}),a?(0,$.jsx)(`input`,{type:a,id:r||i,name:i,...a===`checkbox`?{}:{value:t??``},checked:o,onChange:n,onClick:l,onKeyDown:e=>{a===`checkbox`&&e.key===`Enter`&&(e.preventDefault(),n({target:{name:i,type:`checkbox`,checked:!o}}))},placeholder:s||i,readOnly:f,"aria-required":d,"aria-invalid":!!m,"aria-describedby":m?h:void 0}):(0,$.jsxs)(`select`,{id:i,name:i,value:t??``,onClick:l,onChange:n,"aria-label":p,"aria-required":d,style:{color:t===``||!t?`gray`:`black`},"aria-invalid":!!m,"aria-describedby":m?h:void 0,children:[(0,$.jsx)(`option`,{value:``,disabled:!0,hidden:!0,children:s}),u&&u?.length>0&&u.map((e,t)=>(0,$.jsx)(`optgroup`,{label:e.optgroup,children:e.content.map(e=>(0,$.jsx)(`option`,{value:e.key,children:e.text},e.key+t))},e.optgroup+t))]}),(0,$.jsx)(`div`,{className:`boxErrorMessage`,children:m&&(0,$.jsx)(`span`,{id:h,role:`alert`,children:m})})]})},et=e=>{let{text:t,customStyles:n,type:r,click:i}=e;return(0,$.jsx)(`button`,{onClick:i,type:r,className:`btnStyles ${n}`,children:t})};export{i as a,Je as i,$e as n,r as o,Qe as r,a as s,et as t};