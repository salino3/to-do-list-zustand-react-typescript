import{a as e,c as t,i as n,n as r,r as i,s as a,t as o}from"./index-BYFcYPLr.js";import{a as s,i as c,n as l,o as u,r as d,s as f,t as p}from"./common-Du_RUB8z.js";var m=[];for(let e=0;e<256;++e)m.push((e+256).toString(16).slice(1));function h(e,t=0){return(m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+`-`+m[e[t+4]]+m[e[t+5]]+`-`+m[e[t+6]]+m[e[t+7]]+`-`+m[e[t+8]]+m[e[t+9]]+`-`+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]).toLowerCase()}var g,_=new Uint8Array(16);function v(){if(!g){if(typeof crypto>`u`||!crypto.getRandomValues)throw Error(`crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported`);g=crypto.getRandomValues.bind(crypto)}return g(_)}var y={randomUUID:typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function b(e,t,n){e||={};let r=e.random??e.rng?.()??v();if(r.length<16)throw Error(`Random bytes length must be >= 16`);if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n||=0,n<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return h(r)}function x(e,t,n){return y.randomUUID&&!t&&!e?y.randomUUID():b(e,t,n)}var S=x,C=a();const w=[{name:`nameTodo`,ariaRq:!1,pl:`Name To do`,lbl:`Name To do`,type:`text`,ariaLabeInput:`Text the name task`},{name:`web`,ariaRq:!1,pl:`Web`,lbl:`Web`,type:`text`,ariaLabeInput:`Text the web relationated with the task`},{name:`tel`,ariaRq:!1,pl:`Telephone`,lbl:`Telephone`,type:`tel`,ariaLabeInput:`Text the telephone relationated with the task`},{name:`email`,ariaRq:!1,pl:`Email`,lbl:`Email`,type:`email`,ariaLabeInput:`Text the email relationated with the task`},{name:`topic`,ariaRq:!1,pl:`Topic`,lbl:`Topic`,type:`text`,ariaLabeInput:`Select a topic for this task`},{name:`place`,ariaRq:!1,pl:`Place`,lbl:`Place`,type:`text`,ariaLabeInput:`What's the place for this task`},{name:`reminderDate`,ariaRq:!0,pl:`Reminder Date`,lbl:`Reminder Date`,type:`datetime-local`,ariaLabeInput:`Select a reminder date for this task`},{name:`priority`,lbl:`Priority`,click:e=>e.stopPropagation(),pl:`Priority`,selectList:[{optgroup:`Priority`,content:Object.values(s).map(e=>({key:e,text:e===``?`...`:e.charAt(0).toUpperCase()+e.slice(1)}))}],ariaRq:!0,type:``,ariaLabeInput:`Choose the to do priority`},{name:`status`,ariaRq:!1,pl:`Status`,lbl:`Status`,type:`text`,ariaLabeInput:`What's the status for this task`},{name:`calendar`,lbl:`Google calendar: (Optional)`,ariaRq:!1,type:`checkbox`,ariaLabeInput:`Choose if add the task to your Google calendar`}];var T=r();const E=(0,C.memo)(()=>{let{id:t=``}=e(),r=n(),{todoList:i,addTodo:a,updateDataTodo:s}=d(`todoList`,`addTodo`,`updateDataTodo`),{fnPromise:m,dateConverter:h}=c(),[g,_]=(0,C.useState)(f),v=e=>t=>{_(e===`calendar`?e=>({...e,calendar:(t?.target).checked??!1}):n=>({...n,[e]:e.includes(`eminderDate`)?new Date(t?.target.value??``).getTime():t?.target.value}))};async function y(e){e?.preventDefault(),t?await m(s&&s(g)).then(()=>r(o.root)):a&&a({...g,id:S()}).then(()=>r(o.root))}return(0,C.useEffect)(()=>{t&&_(i?.find(e=>e.id===t)??u)},[t]),(0,T.jsxs)(`form`,{onSubmit:y,id:`formDetailsTodoPage`,children:[(0,T.jsx)(`div`,{className:`containerInputs`,children:w&&w.length>0&&w.map(e=>(t&&e.name!==`calendar`||!t)&&(0,T.jsx)(l,{name:e.name,id:e.name,value:e.name===`reminderDate`?h(g[e.name]??``):g[e.name]??``,lbl:e.lbl,handleChange:v(e.name),click:e.click,pl:e.pl,selectList:e?.selectList,ariaRq:e.ariaRq,type:e.type,ariaLabeInput:e.ariaLabeInput},e.name))}),(0,T.jsx)(`div`,{className:`boxButtons`,children:(0,T.jsx)(p,{text:`Submit`,type:`submit`})})]})}),D=()=>{let{id:t=``}=e();return(0,T.jsxs)(`div`,{className:`rootDetailsTodoPage`,children:[(0,T.jsxs)(`header`,{children:[(0,T.jsx)(i,{to:o.root,children:`⬅️`}),(0,T.jsxs)(`h1`,{children:[t?`Update`:`Create`,` To do`]})]}),(0,T.jsx)(E,{})]})};export{D as DetailsTodoPage};