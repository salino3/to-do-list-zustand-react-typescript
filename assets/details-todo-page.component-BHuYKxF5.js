import{a as e,c as t,i as n,n as r,r as i,s as a,t as o}from"./index-mDu4aA2V.js";import{a as s,i as c,n as l,r as u,t as d}from"./useAppUtilities-Cec_qs-g.js";var f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));function p(e,t=0){return(f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+`-`+f[e[t+4]]+f[e[t+5]]+`-`+f[e[t+6]]+f[e[t+7]]+`-`+f[e[t+8]]+f[e[t+9]]+`-`+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]).toLowerCase()}var m,h=new Uint8Array(16);function g(){if(!m){if(typeof crypto>`u`||!crypto.getRandomValues)throw Error(`crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported`);m=crypto.getRandomValues.bind(crypto)}return m(h)}var _={randomUUID:typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function v(e,t,n){e||={};let r=e.random??e.rng?.()??g();if(r.length<16)throw Error(`Random bytes length must be >= 16`);if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n||=0,n<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return p(r)}function y(e,t,n){return _.randomUUID&&!t&&!e?_.randomUUID():v(e,t,n)}var b=y,x=a(),S=r();const C=e=>{let{value:t,handleChange:n,id:r,name:i,type:a,pl:o,lbl:s,click:c,selectList:l,ariaRq:u,readonly:d,ariaLabeInput:f,error:p}=e,m=`${i}-error-msg`;return(0,S.jsxs)(`div`,{className:`boxInput boxInput${i}`,children:[(0,S.jsx)(`label`,{htmlFor:(r||i)+`ID`,children:s}),a?(0,S.jsx)(`input`,{type:a,id:(r||i)+`ID`,name:i,value:t??``,onChange:n,placeholder:o||i,readOnly:d,"aria-required":u,"aria-invalid":!!p,"aria-describedby":p?m:void 0}):(0,S.jsxs)(`select`,{id:i+`ID`,name:i,value:t??``,onClick:c,onChange:n,"aria-label":f,"aria-required":u,style:{color:t===``||!t?`gray`:`black`},"aria-invalid":!!p,"aria-describedby":p?m:void 0,children:[(0,S.jsx)(`option`,{value:``,disabled:!0,hidden:!0,children:o}),l&&l?.length>0&&l.map(e=>(0,S.jsx)(`optgroup`,{label:e.optgroup,children:e.content.map(e=>(0,S.jsx)(`option`,{value:e.key,children:e.text},e.key))},e.optgroup))]}),(0,S.jsx)(`div`,{className:`boxErrorMessage`,children:p&&(0,S.jsx)(`span`,{id:m,role:`alert`,children:p})})]})},w=e=>{let{text:t,customStyles:n,type:r}=e;return(0,S.jsx)(`button`,{type:r,className:`btnStyles ${n}`,children:t})},T=[{name:`nameTodo`,selectList:[],ariaRq:!1,pl:`Name To do`,lbl:`Name To do`,type:`text`,ariaLabeInput:`Text the name task`},{name:`web`,selectList:[],ariaRq:!1,pl:`Web`,lbl:`Web`,type:`text`,ariaLabeInput:`Text the web relationated with the task`},{name:`tel`,selectList:[],ariaRq:!1,pl:`Telephone`,lbl:`Telephone`,type:`tel`,ariaLabeInput:`Text the telephone relationated with the task`},{name:`email`,selectList:[],ariaRq:!1,pl:`Email`,lbl:`Email`,type:`email`,ariaLabeInput:`Text the email relationated with the task`},{name:`topic`,selectList:[],ariaRq:!1,pl:`Topic`,lbl:`Topic`,type:`text`,ariaLabeInput:`Select a topic for this task`},{name:`place`,selectList:[],ariaRq:!1,pl:`Place`,lbl:`Place`,type:`text`,ariaLabeInput:`What's the place for this task`},{name:`reminderDate`,selectList:[],ariaRq:!0,pl:`Reminder Date`,lbl:`Reminder Date`,type:`datetime-local`,ariaLabeInput:`Select a reminder date for this task`},{name:`priority`,lbl:`Priority`,click:e=>e.stopPropagation(),pl:`Priority`,selectList:[{optgroup:`Priority`,content:Object.values(u).map(e=>({key:e,text:e===``?`...`:e.charAt(0).toUpperCase()+e.slice(1)}))}],ariaRq:!0,type:``,ariaLabeInput:`Choose the to do priority`}],E=(0,x.memo)(()=>{let{id:t=``}=e(),r=n(),{todoList:i,addTodo:a,updateDataTodo:u}=l(`todoList`,`addTodo`,`updateDataTodo`),{fnPromise:f}=d(),[p,m]=(0,x.useState)(s),h=e=>t=>{m(n=>({...n,[e]:t?.target.value}))};function g(e){e?.preventDefault(),t?f(u&&u(p)).then(()=>r(o.root)):f(a&&a({...p,id:b()})).then(()=>r(o.root))}return(0,x.useEffect)(()=>{t&&m(i?.find(e=>e.id===t)??c)},[t]),(0,S.jsxs)(`form`,{onSubmit:g,id:`formDetailsTodoPage`,children:[(0,S.jsx)(`div`,{className:`containerInputs`,children:T&&T.length>0&&T.map(e=>(0,S.jsx)(C,{name:e.name,id:e.name,value:p[e.name]??``,lbl:e.lbl,handleChange:h(e.name),click:e.click,pl:e.pl,selectList:e.selectList,ariaRq:e.ariaRq,type:e.type,ariaLabeInput:e.ariaLabeInput}))}),(0,S.jsx)(`div`,{className:`boxButtons`,children:(0,S.jsx)(w,{text:`Submit`,type:`submit`})})]})}),D=()=>{let{id:t=``}=e();return(0,S.jsxs)(`div`,{className:`rootDetailsTodoPage`,children:[(0,S.jsxs)(`header`,{children:[(0,S.jsx)(i,{to:o.root,children:`⬅️`}),(0,S.jsxs)(`h1`,{children:[t?`Update`:`Create`,` To do`]})]}),(0,S.jsx)(E,{})]})};export{D as DetailsTodoPage};